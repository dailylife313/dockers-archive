## Smart DNS
This package helps you to change your IP for specific websites to bypass region restrictions

To use this, first edit dnsmasq/proxy.conf and replace your VPS ip address, then simply run this command:

```
docker-compose up -d
```

In order to config with websites you want to bypass region restriction edit the dnsmasq/proxy.conf file.

If you got error regarding port 53, you should stop local dns in your system. After running the service user your VPS ip as DNS.

یکی از مشکلات عمده ایرانی ها، تحریم های دسترسی به سایت های اینترنتی هستش. سایتهای بیشماری وجود داره که سرویس هاشون رو به روی IP های ایرانی بستن. یکی از راه های دور زدن این تحریم ها استفاده از سرویس شکن و یا بگذر هستش.

روش کار این دو سرویس به این صورت هست که این دو شرکت یک سرویس dns را در اختیار کاربر قرار میدن. این dns ها بجای سرور اصلی وب سایت ها، کاربر رو به یک سرور دیگه هدایت میکنه که اون سرور به عنوان واسط بین کاربر و سایت مورد نظر است. در این روش آن چیزی که سایت در مورد کاربر میبینه IP اون سرور هست و نه IP کاربر. به این ترتیب تحریم دور زده میشه.

یکی از مشکلات این دو سایت این هست که به دلیل زیاد بودن کاربرها سرعت کمی دارند و سرعت اینترنت رو پایین میارن. یک راه برای رفع این مشکل این هست که یک سرویس مشابه اختصاصی برای خودتون درست کنید. برای این کار تنها نیاز به یک سرور مجازی در یک کشور خارجی دارید. برای تهیه سرور خارجی میتونی به یکی از دهها سرویس دهنده ایرانی مراجعه کنید.

بعد از تهیه سرور مجازی نیاز به راه اندازی سرویس docker دارید. کنید. برای این منظور میتونید به دو پست قبلی آموزش نصب docker-compose و نصب داکر در اوبونتو مراجعه کنید. بعد از نصب داکر پروژه Smart DNS را از آدرس زیر دانلود کنید.

https://github.com/M-Ahadi/dockers

پس از دانلود پروژه فایل dnsmasq/proxy.conf را باز کرده و آدرس IP سرور مجازی خود را قرار دهید. پس از اعمال تغییرات دستور زیر را اجرا کنید تا سرویس راه اندازی شود.

docker-compose up -d

در صورتی که در زمان اجرای سرویس در خصوص پورت 53 خطایی دریافت کردید باید سرویس dns لوکال سیستم عامل را غیر فعال کنید. برای این کار دستورات زیر را اجرا کنید.

sudo systemctl disable systemd-resolved
sudo systemctl stop systemd-resolved

حالا میتوانید با تنظیم IP سرور مجازی خود به عنوان DNS از سرویس شکن اختصاصی خودتون استفاده کنید.

یک نکته خیلی مهم که باید به اون توجه داشته باشید این هست که هرکرها با روش های خاص خود این جور سرویس ها رو پیدا میکنن و از اون برای گم کردن رد خودشون استفاده میکنند. پس حتما با استفاده از فایروال تمام IPها به جز IP خودتون رو بلاک کنید.
